<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Case Converter</title>
</head>
<body>
<div class=""container style="display: flex; flex-wrap: wrap; flex-direction: column">
    <div class="title"><h1>Case Converter</h1></div>
    <textarea name="" id="textarea" cols="30" rows="10"></textarea>
    <div style="display: flex; flex-direction: row; padding-top: 16px">
        <button id="upper-case" onclick="convertToUpperCase(document.getElementById('textarea').value)">upper-case</button>
        <button id="lower-case" onclick="convertToLowerCase(document.getElementById('textarea').value)">lower-case</button>
        <button id="proper-case" onclick="convertToProperCase(document.getElementById('textarea').value)">proper-case</button>
        <button id="sentence-case" onclick="convertToSentenceCase(document.getElementById('textarea').value)">sentence-case</button></div>
        <button id="save-text-file" onclick="saveFile('text.txt', document.getElementById('textarea').value)">save text</button></div>
</div>

<script>
    let text = document.getElementById("textarea");

    function convertToUpperCase(inputText) {
        text.value = inputText.toUpperCase();
    }

        function convertToLowerCase(inputText) {
            text.value = inputText.toLowerCase();
    }

    function convertToProperCase(inputText) {
        const newTextStringArray = [];
        inputText.toLowerCase().split(" ").forEach(word => {
            newTextStringArray.push(word.charAt(0).toUpperCase() + word.slice(1));
        })
        text.value = newTextStringArray.join(" ").trim();
    }

    function convertToSentenceCase(inputText) {
        const newTextStringArray = [];
        inputText.toLowerCase().split(". ").forEach(word => {
            newTextStringArray.push(word.charAt(0).toUpperCase() + word.slice(1));
        })
        text.value = newTextStringArray.join(". ").trim();
    }

    function saveFile(filename, text) {
        var element = document.createElement('a');
        element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
        element.setAttribute('download', filename);

        element.style.display = 'none';
        document.body.appendChild(element);

        element.click();

        document.body.removeChild(element);
    }

</script>

</body>
</html>
